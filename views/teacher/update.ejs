<!DOCTYPE html>
<html lang="en">
  <%- include("../header"); %>
<body>
  <%- include("../menu"); %>

  <form id = "updateForm">
  <!-- Material input -->
   <div class="md-form">
        <input type="text" id="name" class="form-control" value="<%= result.name %>" required>
        <label for="name">Name</label>
    </div>

    
   <div class="md-form">
        <input type="text" id="birth" class="form-control" value="<%= result.birth %>" required>
        <label for="birth">Birth</label>
    </div>

    <div class="md-form">
        <input type="tel" id="tel" class="form-control" value="<%= result.tel %>" required>
        <label for="tel">Tel</label>
    </div>

    <button type="submit" class="btn btn-primary">Save</button>
    </form>
<%- include("../footer"); %>

<script>
    $(function () {
        $("#updateForm").submit((event) => {
            event.preventDefault();

            const title = $("#name").val();
            const director= $("#birth").val();
            const year= $("#tel").val();

            $.ajax({
                url: "/api/teacher/<%= result.id %>", 
                type: "PUT",
                data: { name, birth, tel },
            })
            .done(() => {                             //  성공
                location.href = "/api/teacher/<%= result._id %>";
            })
            .fail((request, status, error) => {       //  실패
                alert(request.responseText);
            });
        });
    });
</script>
</body>
</html>
